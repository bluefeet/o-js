(function(){var f=this,g=f.o,b={};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=b),exports.o=b,exports.oJS=b):(f.o=b,f.oJS=b);b.noConflict=function(){f.o=g;return b};b.reader=function(d,a){a=a||{};a.writer=a.writer||b.writer(d,a);a.predicate=a.predicate||b.predicate(d);return function(){if(!a.predicate.call(this)){if(a.required)throw Error("...");if(void 0!==a["default"]){var b=a["default"];"function"===typeof b&&(b=b.call(this));a.writer.call(this,
b)}}return this[d]}};b.writer=function(b,a){a=a||{};a.option&&(a.isa=a.isa||"boolean");a["extends"]&&(a.isa=a.isa||"object");return function(c){a.option&&void 0===c&&(c=!0);a.filter&&(c=a.filter.call(this,c));if(a.isa)if("string"===typeof a.isa){if(typeof c!==a.isa)throw Error("...");}else if(!a.isa.call(this,c))throw Error("...");if(a["extends"]&&!(c instanceof a["extends"]))throw Error("...");this[b]=c;return a.chain||a.option?this:c}};b.accessor=function(d,a){a=a||{};a.writer=a.writer||b.writer(d,
a);a.reader=a.reader||b.reader(d,a);return function(b){void 0!==b&&a.writer.call(this,b);return a.reader.call(this)}};b.predicate=function(d){return function(){return b.has(this,d)}};b.clearer=function(b){return function(){delete this[b]}};b.proxy=function(b,a){return function(){return this[b][a].apply(this[b],arguments)}};b.before=function(b,a){return function(){a.call(this);return b.apply(this,arguments)}};b.after=function(b,a){return function(){var c=b.apply(this,arguments);a.call(this);return c}};
b.around=function(b,a){return function(){var c=this,e=Array.prototype.slice.call(arguments);e.unshift(function(){return b.apply(c,arguments)});return a.apply(c,e)}};b.construct=function(d,a){b.merge(d.prototype,a);return d};b.extend=function(d,a,c){var e=b.around(d,a);c=c?b.merge({},a.prototype,c):b.clone(a.prototype);c.__proto__=d.prototype;e.prototype=c;return e};b.merge=function(){for(var d=Array.prototype.slice.call(arguments),a=d.shift();d.length;){var c=d.shift(),e;for(e in c)b.has(c,e)&&(a[e]=
c[e])}return a};b.clone=function(d){var a=b.merge({},d);a.__proto__=d.__proto__;a.constructor=d.constructor;return a};b.has=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)}}).call(this);
